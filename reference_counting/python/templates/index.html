<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reference Counting GC Visualizer</title>
    <link rel="stylesheet" href="static/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.21.1/cytoscape.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- –ó–ê–ì–û–õ–û–í–û–ö -->
        <div class="header">
            <h1>üóëÔ∏è Reference Counting GC Visualizer</h1>
            <p>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞ —Å –ø–æ–¥—Å—á–µ—Ç–æ–º —Å—Å—ã–ª–æ–∫</p>
        </div>

        <div class="main-grid">
            <!-- –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨: –ü–ê–†–ê–ú–ï–¢–†–´ -->
            <div class="panel params-panel">
                <h2>‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h2>
                
                <div class="form-group">
                    <label>–¢–∏–ø —Å—Ü–µ–Ω–∞—Ä–∏—è:</label>
                    <select id="scenarioType">
                        <option value="basic">üì¶ Basic (–ü—Ä–æ—Å—Ç–æ–π)</option>
                        <option value="cascade">üìä Cascade (–ö–∞—Å–∫–∞–¥ —É–¥–∞–ª–µ–Ω–∏—è)</option>
                        <option value="cycle">üí• Cycle (–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label id="paramLabel">–û–±—ä–µ–∫—Ç–æ–≤:</label>
                    <div class="slider-container">
                        <input type="range" id="paramSlider" min="1" max="10" value="3" class="slider">
                        <span id="paramValue">3</span>
                    </div>
                </div>

                <div class="button-group">
                    <button id="runTest" class="btn btn-primary">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç</button>
                    <button id="clearLogs" class="btn btn-secondary">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>

                <!-- –ö–û–ù–¢–†–û–õ–´ –®–ê–ì–û–í -->
                <div class="step-controls">
                    <h3>üìç –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</h3>
                    <div class="step-info">
                        <span>–®–∞–≥: <strong id="step-indicator">0/0</strong></span>
                    </div>
                    <div class="button-group">
                        <button id="prevStep" class="btn btn-secondary">‚¨ÖÔ∏è –ü—Ä–µ–¥—ã–¥—É—â–∏–π</button>
                        <button id="nextStep" class="btn btn-primary">‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥</button>
                    </div>
                    <div class="button-group">
                        <button id="autoPlay" class="btn btn-success" style="flex: 1;">‚ñ∂Ô∏è –ê–≤—Ç–æ–ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ</button>
                    </div>
                </div>

                <div id="status" class="status">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
            </div>

            <!-- –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –ü–ê–ù–ï–õ–¨: –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø -->
            <div class="panel visualization-panel">
                <h2>üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</h2>
                <div id="graph-container" class="graph-container"></div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #4CAF50;"></div>
                        <span>–ñ–∏–≤–æ–π –æ–±—ä–µ–∫—Ç</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #FFD700; border: 2px solid #333;"></div>
                        <span>ROOT —Å—Å—ã–ª–∫–∞</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #9E9E9E;"></div>
                        <span>–£–¥–∞–ª–µ–Ω</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #FF5252;"></div>
                        <span>–£–¢–ï–ß–ö–ê</span>
                    </div>
                </div>
            </div>

            <!-- –ü–†–ê–í–ê–Ø –ü–ê–ù–ï–õ–¨: –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
            <div class="panel stats-panel">
                <h2>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">–í—ã–¥–µ–ª–µ–Ω–æ –æ–±—ä–µ–∫—Ç–æ–≤</div>
                        <div class="stat-value" id="allocated">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–£–¥–∞–ª–µ–Ω–æ –æ–±—ä–µ–∫—Ç–æ–≤</div>
                        <div class="stat-value" id="deleted">0</div>
                    </div>
                    <div class="stat-card stat-error">
                        <div class="stat-label">–£–¢–ï–ß–ö–ò –ø–∞–º—è—Ç–∏</div>
                        <div class="stat-value" id="leaks">0</div>
                    </div>
                </div>

                <h3>üìã –°–æ–±—ã—Ç–∏—è</h3>
                <div class="events-container">
                    <table id="events-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>–°–æ–±—ã—Ç–∏–µ</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="3" style="text-align: center; padding: 20px; color: #999;">–ù–µ—Ç —Å–æ–±—ã—Ç–∏–π</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="static/visualization.js"></script>
</body>
</html>